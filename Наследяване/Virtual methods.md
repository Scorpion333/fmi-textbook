# Виртуални методи

Метод на клас има смисъл да бъде виртуален, ако класът има наследник, за който сме дефинирали същия метод по различен начин.
Тогава съществува въпросът кой метод ще се извика за указател от тип Родителя*, който сочи наследник.

Простото правило е:

- ако методът не е виртуален, се изпълнява метода на родителя
- ако методът е виртуален, се изпълнява метода на наследника

Обикновено предпочитаме втория вариант.
За направим метод виртулен, пишем **virtual** пред дефиницията на метода в родителя.

Пример:

    class Person {
    public:
        virtual string get_class() {
            return "Person";
        }
    };

    class Student : public Person {
    public:
        string get_class() {
            return "Student";
        }
    };

    int main() {
        Person p;
        Student s;

        cout << p.get_class() << '\n';	    // За Person се вика метода на Person.
        cout << s.get_class() << '\n';	    // За Student се вика метода на Student.

        Person* arr[2];
        arr[0] = &p;
        arr[1] = &s;

        cout << arr[0]->get_class() << '\n';    // За Person*, който сочи Person се метода на Person.

        cout << arr[1]->get_class() << '\n';    // Имаме Person*, който сочи Student - ако get_class()
                                                // e виртуален, се извиква метода на Student, но ако
                                                // не е виртуален, се изпълнява метода на Person.
    }