# Какво всъщност е компилирането

Частта от компютъра, която изпълнява програмите, е процесорът.
Процесорът може да изпълнява само команди на т.нар. машинен език (assembler).
За да бъде изпълнена програма, написана на С++, тя трябва да бъде преведена на машинен език.
(Всяка коректна програма на С++ може да бъде преведена. Резултатът е значително по-дълъг и 
по-трудно четим от човека код, който обаче е идеален за процесора.)

За да бъде изпълнен от процесора, кодът трябва да е в един файл. 
Готов за пускане файл е, например, ЕХЕ файлът, създаден при build-ване**.

И така, когато напишем проект на С++ в няколко файла, той трябва да бъде обобщен в един файл
за  стартиране на програмата.

## Трудностите

Един cpp файл се превежда на assembler сравнително лесно. Обаче

- проектът обикновено се състои от много файлове
- не е без значение реда, в който се прочитат - напр. един хедър трябва да бъде прочетен преди файловете, в които include-нат

## Ред на действията

1. Първо се изпълняват т.нар. предпроцесорни директиви - командите, започващи с #. Какво прави всяка - [тук](https://github.com/Scorpion333/fmi-oop-2017/blob/master/Теория/Компилиране%20и%20%23-команди/Командите%2C%20започващи%20с%20%23.md). 
2. Всеки cpp файл се превежда на машинен език и преводът се записва в нов (.o или .obj - от object) файл. (След ст.1 хедърите не ни трябват повече, защото кодът от тях е копиран в срр-тата.)
3. От получените object файлове се създава един файл

(Това, или нещо подобно, се случва на Visual Studio и Code::Blocks на Windows, при друг компилатор и друга операционна система процесът
може да е различен, но идеята вероятно е подобна.)

> **В действителност, това не е съвсем вярно. Възможно е, например, да има динамично свързване на библиотеки
и зареждане на файлове по време на изпълнението на програмата, но това знание за момента не е необходимо.